<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>app.module.ts - Detailed Analysis</title>
<style>
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; background-color: #f5f5f5; }
.container { max-width: 1000px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
.header { text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #007acc; }
.header h1 { color: #007acc; margin: 0; font-size: 2.2em; }
.back-link { display: inline-block; margin-bottom: 20px; color: #007acc; text-decoration: none; font-weight: bold; }
.back-link:hover { text-decoration: underline; }
.summary-card { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px; border-left: 4px solid #007acc; }
.score-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 20px 0; }
.score-item { background: white; padding: 15px; border-radius: 6px; text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
.score-value { font-size: 1.8em; font-weight: bold; color: #007acc; }
.score-label { color: #666; margin-top: 5px; font-size: 0.9em; }
.analysis-section { margin: 30px 0; padding: 20px; background: #fafafa; border-radius: 8px; border: 1px solid #e0e0e0; }
.analysis-section h2 { color: #333; margin-bottom: 15px; border-bottom: 2px solid #007acc; padding-bottom: 8px; }
.reasoning-text { color: #555; line-height: 1.6; margin-bottom: 15px; padding: 15px; background: white; border-radius: 6px; border-left: 3px solid #007acc; }
.recommendations { margin-top: 20px; }
.recommendations h3 { color: #007acc; margin-bottom: 10px; }
.recommendations ul { margin: 0; padding-left: 25px; }
.recommendations li { margin: 8px 0; color: #555; line-height: 1.5; display: flex; justify-content: space-between; align-items: flex-start; }
.recommendation-text { flex: 1; margin-right: 10px; }
.fix-button { background: linear-gradient(45deg, #007acc, #005999); color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 0.8em; font-weight: bold; transition: all 0.3s ease; white-space: nowrap; }
.fix-button:hover { background: linear-gradient(45deg, #005999, #003d73); transform: translateY(-1px); box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
.fix-button:active { transform: translateY(0); }
.fix-button:disabled { background: #ccc; cursor: not-allowed; transform: none; }
.fix-status { margin-left: 5px; font-size: 0.8em; }
.fix-success { color: #28a745; }
.fix-error { color: #dc3545; }
.fix-loading { color: #ffc107; }
.metrics-section { margin: 30px 0; }
.metrics-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
.metrics-table th, .metrics-table td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
.metrics-table th { background-color: #007acc; color: white; }
.quality-indicator { padding: 5px 10px; border-radius: 4px; color: white; font-weight: bold; text-align: center; }
.quality-green { background-color: #28a745; }
.quality-yellow { background-color: #ffc107; color: black; }
.quality-red { background-color: #dc3545; }
.final-score { font-size: 2.5em; font-weight: bold; color: #007acc; text-align: center; margin: 20px 0; }
</style>
<script>
function fixWithAI(category, recommendation, button) {
    const originalText = button.textContent;
    button.disabled = true;
    button.textContent = 'Fixing...';
    button.style.background = '#ffc107';
    
    // Create status indicator
    const statusSpan = document.createElement('span');
    statusSpan.className = 'fix-status fix-loading';
    statusSpan.textContent = ' ⏳';
    button.parentNode.appendChild(statusSpan);
    
    // Simulate AI processing (replace with actual API call)
    setTimeout(() => {
        // For demo purposes, randomly succeed or fail
        const success = Math.random() > 0.3;
        
        if (success) {
            button.textContent = 'Fixed ✓';
            button.style.background = '#28a745';
            statusSpan.className = 'fix-status fix-success';
            statusSpan.textContent = ' Applied';
            
            // Show success message
            showNotification('Fix applied successfully for: ' + category, 'success');
        } else {
            button.textContent = 'Retry';
            button.style.background = '#dc3545';
            button.disabled = false;
            statusSpan.className = 'fix-status fix-error';
            statusSpan.textContent = ' Failed';
            
            // Show error message
            showNotification('Failed to apply fix. Please try again.', 'error');
        }
    }, 2000 + Math.random() * 3000); // 2-5 second delay
}

function showNotification(message, type) {
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed; top: 20px; right: 20px; z-index: 1000;
        padding: 12px 20px; border-radius: 6px; color: white;
        font-weight: bold; box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        transform: translateX(100%); transition: transform 0.3s ease;
        background: ${type === 'success' ? '#28a745' : '#dc3545'};
    `;
    notification.textContent = message;
    document.body.appendChild(notification);
    
    // Slide in
    setTimeout(() => notification.style.transform = 'translateX(0)', 100);
    
    // Slide out and remove
    setTimeout(() => {
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => document.body.removeChild(notification), 300);
    }, 4000);
}
</script>
</head>
<body>
<div class="container">
<a href="../technical-report.html" class="back-link">← Back to Technical Report</a>
<div class="header">
<h1>app.module.ts</h1>
<p>Detailed Code Analysis Results</p>
</div>
<div class="summary-card">
<div class="final-score">85.8</div>
<div style="text-align: center;">
<span class="quality-indicator quality-green">High Quality</span></div></div>
<div class="score-grid">
<div class="score-item">
<div class="score-value">85.0</div>
<div class="score-label">Code Quality</div>
</div>
<div class="score-item">
<div class="score-value">90.0</div>
<div class="score-label">SOLID Principles</div>
</div>
<div class="score-item">
<div class="score-value">90.0</div>
<div class="score-label">Design Patterns</div>
</div>
<div class="score-item">
<div class="score-value">80.0</div>
<div class="score-label">Security</div>
</div>
<div class="score-item">
<div class="score-value">85.0</div>
<div class="score-label">Bug Detection</div>
</div>
</div>
<div class="analysis-section">
<h2>Code Quality Analysis (85.0/100)</h2>
<div class="reasoning-text">The code is well-structured and follows good practices for a NestJS module, but lacks comments and documentation. The use of environment variables for configuration is a good practice, but there is no error handling or fallback for missing environment variables.</div>
<div class="recommendations">
<h3>Recommendations</h3>
<ul>
<li><span class="recommendation-text">Add comments to the code to explain what each module and middleware does.</span><button class="fix-button" id="fix-code-quality-analysis-0" onclick="fixWithAI('Code Quality Analysis', 'Add comments to the code to explain what each module and middleware does.', this)" data-category="Code Quality Analysis" data-recommendation="Add comments to the code to explain what each module and middleware does.">Fix with AI</button></li>
<li><span class="recommendation-text">Add error handling or fallbacks for missing environment variables.</span><button class="fix-button" id="fix-code-quality-analysis-1" onclick="fixWithAI('Code Quality Analysis', 'Add error handling or fallbacks for missing environment variables.', this)" data-category="Code Quality Analysis" data-recommendation="Add error handling or fallbacks for missing environment variables.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider separating the database configuration into a separate module or file to improve modularity.</span><button class="fix-button" id="fix-code-quality-analysis-2" onclick="fixWithAI('Code Quality Analysis', 'Consider separating the database configuration into a separate module or file to improve modularity.', this)" data-category="Code Quality Analysis" data-recommendation="Consider separating the database configuration into a separate module or file to improve modularity.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider using a configuration service to handle environment variables and provide defaults.</span><button class="fix-button" id="fix-code-quality-analysis-3" onclick="fixWithAI('Code Quality Analysis', 'Consider using a configuration service to handle environment variables and provide defaults.', this)" data-category="Code Quality Analysis" data-recommendation="Consider using a configuration service to handle environment variables and provide defaults.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider adding type annotations for better type safety and readability.</span><button class="fix-button" id="fix-code-quality-analysis-4" onclick="fixWithAI('Code Quality Analysis', 'Consider adding type annotations for better type safety and readability.', this)" data-category="Code Quality Analysis" data-recommendation="Consider adding type annotations for better type safety and readability.">Fix with AI</button></li>
</ul></div>
</div>
<div class="analysis-section">
<h2>SOLID Principles Analysis (90.0/100)</h2>
<div class="reasoning-text">The code is well-structured and each class and module seems to have a single responsibility. However, the AppModule seems to be handling too many imports and configurations.</div>
<div class="recommendations">
<h3>Recommendations</h3>
<ul>
<li><span class="recommendation-text">Consider breaking down the AppModule into smaller, more specific modules.</span><button class="fix-button" id="fix-solid-principles-analysis-0" onclick="fixWithAI('SOLID Principles Analysis', 'Consider breaking down the AppModule into smaller, more specific modules.', this)" data-category="SOLID Principles Analysis" data-recommendation="Consider breaking down the AppModule into smaller, more specific modules.">Fix with AI</button></li>
<li><span class="recommendation-text">Move database configuration to a separate module.</span><button class="fix-button" id="fix-solid-principles-analysis-1" onclick="fixWithAI('SOLID Principles Analysis', 'Move database configuration to a separate module.', this)" data-category="SOLID Principles Analysis" data-recommendation="Move database configuration to a separate module.">Fix with AI</button></li>
<li><span class="recommendation-text">Move JWT configuration to the AuthModule.</span><button class="fix-button" id="fix-solid-principles-analysis-2" onclick="fixWithAI('SOLID Principles Analysis', 'Move JWT configuration to the AuthModule.', this)" data-category="SOLID Principles Analysis" data-recommendation="Move JWT configuration to the AuthModule.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider creating a separate module for entity registration.</span><button class="fix-button" id="fix-solid-principles-analysis-3" onclick="fixWithAI('SOLID Principles Analysis', 'Consider creating a separate module for entity registration.', this)" data-category="SOLID Principles Analysis" data-recommendation="Consider creating a separate module for entity registration.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider creating a separate middleware module to handle middleware configurations.</span><button class="fix-button" id="fix-solid-principles-analysis-4" onclick="fixWithAI('SOLID Principles Analysis', 'Consider creating a separate middleware module to handle middleware configurations.', this)" data-category="SOLID Principles Analysis" data-recommendation="Consider creating a separate middleware module to handle middleware configurations.">Fix with AI</button></li>
</ul></div>
</div>
<div class="analysis-section">
<h2>Design Patterns Analysis (90.0/100)</h2>
<div class="reasoning-text">The code is well-structured and follows the modular design pattern, which is a good practice in NestJS. However, there is a redundancy in the TypeOrmModule import which could be improved.</div>
<div class="recommendations">
<h3>Recommendations</h3>
<ul>
<li><span class="recommendation-text">Remove the redundant TypeOrmModule.forFeature([User]) import as User entity is already included in the TypeOrmModule.forRoot.</span><button class="fix-button" id="fix-design-patterns-analysis-0" onclick="fixWithAI('Design Patterns Analysis', 'Remove the redundant TypeOrmModule.forFeature([User]) import as User entity is already included in the TypeOrmModule.forRoot.', this)" data-category="Design Patterns Analysis" data-recommendation="Remove the redundant TypeOrmModule.forFeature([User]) import as User entity is already included in the TypeOrmModule.forRoot.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider separating the database configuration into a separate module or file for better separation of concerns.</span><button class="fix-button" id="fix-design-patterns-analysis-1" onclick="fixWithAI('Design Patterns Analysis', 'Consider separating the database configuration into a separate module or file for better separation of concerns.', this)" data-category="Design Patterns Analysis" data-recommendation="Consider separating the database configuration into a separate module or file for better separation of concerns.">Fix with AI</button></li>
<li><span class="recommendation-text">Ensure that environment variables (process.env) are properly managed and secured.</span><button class="fix-button" id="fix-design-patterns-analysis-2" onclick="fixWithAI('Design Patterns Analysis', 'Ensure that environment variables (process.env) are properly managed and secured.', this)" data-category="Design Patterns Analysis" data-recommendation="Ensure that environment variables (process.env) are properly managed and secured.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider adding error handling middleware for better error management.</span><button class="fix-button" id="fix-design-patterns-analysis-3" onclick="fixWithAI('Design Patterns Analysis', 'Consider adding error handling middleware for better error management.', this)" data-category="Design Patterns Analysis" data-recommendation="Consider adding error handling middleware for better error management.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider using a more secure database than SQLite for production applications.</span><button class="fix-button" id="fix-design-patterns-analysis-4" onclick="fixWithAI('Design Patterns Analysis', 'Consider using a more secure database than SQLite for production applications.', this)" data-category="Design Patterns Analysis" data-recommendation="Consider using a more secure database than SQLite for production applications.">Fix with AI</button></li>
</ul></div>
</div>
<div class="analysis-section">
<h2>Security Analysis (80.0/100)</h2>
<div class="reasoning-text">The code is generally secure, but it relies on environment variables for sensitive data like the JWT secret and database name, which could be insecure if not properly managed. Also, the database synchronization is set to true, which could lead to data loss in production.</div>
<div class="recommendations">
<h3>Recommendations</h3>
<ul>
<li><span class="recommendation-text">Ensure environment variables are securely managed and not exposed in any logs or error messages.</span><button class="fix-button" id="fix-security-analysis-0" onclick="fixWithAI('Security Analysis', 'Ensure environment variables are securely managed and not exposed in any logs or error messages.', this)" data-category="Security Analysis" data-recommendation="Ensure environment variables are securely managed and not exposed in any logs or error messages.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider using a secure secrets management system for sensitive data like the JWT secret.</span><button class="fix-button" id="fix-security-analysis-1" onclick="fixWithAI('Security Analysis', 'Consider using a secure secrets management system for sensitive data like the JWT secret.', this)" data-category="Security Analysis" data-recommendation="Consider using a secure secrets management system for sensitive data like the JWT secret.">Fix with AI</button></li>
<li><span class="recommendation-text">Turn off database synchronization in production to prevent potential data loss.</span><button class="fix-button" id="fix-security-analysis-2" onclick="fixWithAI('Security Analysis', 'Turn off database synchronization in production to prevent potential data loss.', this)" data-category="Security Analysis" data-recommendation="Turn off database synchronization in production to prevent potential data loss.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider using a more secure database than SQLite for production applications.</span><button class="fix-button" id="fix-security-analysis-3" onclick="fixWithAI('Security Analysis', 'Consider using a more secure database than SQLite for production applications.', this)" data-category="Security Analysis" data-recommendation="Consider using a more secure database than SQLite for production applications.">Fix with AI</button></li>
<li><span class="recommendation-text">Ensure the SessionMiddleware is properly validating and managing sessions to prevent unauthorized access.</span><button class="fix-button" id="fix-security-analysis-4" onclick="fixWithAI('Security Analysis', 'Ensure the SessionMiddleware is properly validating and managing sessions to prevent unauthorized access.', this)" data-category="Security Analysis" data-recommendation="Ensure the SessionMiddleware is properly validating and managing sessions to prevent unauthorized access.">Fix with AI</button></li>
</ul></div>
</div>
<div class="analysis-section">
<h2>Bug Detection Analysis (85.0/100)</h2>
<div class="reasoning-text">The code seems to be mostly correct, but it relies heavily on environment variables which could lead to runtime errors if not properly set. Also, the use of &#39;synchronize: true&#39; in TypeOrmModule could lead to data loss in production.</div>
<div class="recommendations">
<h3>Recommendations</h3>
<ul>
<li><span class="recommendation-text">Ensure all environment variables (DB_NAME, JWT_SECRET, JWT_EXPIRATION) are properly set and validated before use.</span><button class="fix-button" id="fix-bug-detection-analysis-0" onclick="fixWithAI('Bug Detection Analysis', 'Ensure all environment variables (DB_NAME, JWT_SECRET, JWT_EXPIRATION) are properly set and validated before use.', this)" data-category="Bug Detection Analysis" data-recommendation="Ensure all environment variables (DB_NAME, JWT_SECRET, JWT_EXPIRATION) are properly set and validated before use.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider using a configuration service to manage environment variables.</span><button class="fix-button" id="fix-bug-detection-analysis-1" onclick="fixWithAI('Bug Detection Analysis', 'Consider using a configuration service to manage environment variables.', this)" data-category="Bug Detection Analysis" data-recommendation="Consider using a configuration service to manage environment variables.">Fix with AI</button></li>
<li><span class="recommendation-text">Be cautious with the use of &#39;synchronize: true&#39; in TypeOrmModule as it could lead to data loss in production.</span><button class="fix-button" id="fix-bug-detection-analysis-2" onclick="fixWithAI('Bug Detection Analysis', 'Be cautious with the use of &#39;synchronize: true&#39; in TypeOrmModule as it could lead to data loss in production.', this)" data-category="Bug Detection Analysis" data-recommendation="Be cautious with the use of &#39;synchronize: true&#39; in TypeOrmModule as it could lead to data loss in production.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider adding error handling middleware to handle any potential uncaught errors.</span><button class="fix-button" id="fix-bug-detection-analysis-3" onclick="fixWithAI('Bug Detection Analysis', 'Consider adding error handling middleware to handle any potential uncaught errors.', this)" data-category="Bug Detection Analysis" data-recommendation="Consider adding error handling middleware to handle any potential uncaught errors.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider adding tests to ensure the application behaves as expected.</span><button class="fix-button" id="fix-bug-detection-analysis-4" onclick="fixWithAI('Bug Detection Analysis', 'Consider adding tests to ensure the application behaves as expected.', this)" data-category="Bug Detection Analysis" data-recommendation="Consider adding tests to ensure the application behaves as expected.">Fix with AI</button></li>
</ul></div>
</div>
<div class="metrics-section">
<h2>File Metrics</h2>
<table class="metrics-table">
<tr><th>Metric</th><th>Value</th></tr>
<tr><td>Comment ratio</td><td>0.0</td></tr>
<tr><td>Lines of code</td><td>0</td></tr>
<tr><td>Number of methods</td><td>0</td></tr>
<tr><td>Number of classes</td><td>0</td></tr>
<tr><td>Cyclomatic complexity</td><td>0</td></tr>
<tr><td>Code complexity</td><td>UNKNOWN</td></tr>
</table></div>
<div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666;">
<p>Analysis generated on 2025-08-03 12:58:17 by Code Guard</p>
<a href="../technical-report.html" class="back-link">← Back to Technical Report</a>
</div>
</div>
</body>
</html>
