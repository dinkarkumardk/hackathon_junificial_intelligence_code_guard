<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Immutability.java - Detailed Analysis</title>
<style>
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; background-color: #f5f5f5; }
.container { max-width: 1000px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
.header { text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #007acc; }
.header h1 { color: #007acc; margin: 0; font-size: 2.2em; }
.back-link { display: inline-block; margin-bottom: 20px; color: #007acc; text-decoration: none; font-weight: bold; }
.back-link:hover { text-decoration: underline; }
.summary-card { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px; border-left: 4px solid #007acc; }
.score-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 20px 0; }
.score-item { background: white; padding: 15px; border-radius: 6px; text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
.score-value { font-size: 1.8em; font-weight: bold; color: #007acc; }
.score-label { color: #666; margin-top: 5px; font-size: 0.9em; }
.analysis-section { margin: 30px 0; padding: 20px; background: #fafafa; border-radius: 8px; border: 1px solid #e0e0e0; }
.analysis-section h2 { color: #333; margin-bottom: 15px; border-bottom: 2px solid #007acc; padding-bottom: 8px; }
.reasoning-text { color: #555; line-height: 1.6; margin-bottom: 15px; padding: 15px; background: white; border-radius: 6px; border-left: 3px solid #007acc; }
.recommendations { margin-top: 20px; }
.recommendations h3 { color: #007acc; margin-bottom: 10px; }
.recommendations ul { margin: 0; padding-left: 25px; }
.recommendations li { margin: 8px 0; color: #555; line-height: 1.5; display: flex; justify-content: space-between; align-items: flex-start; }
.recommendation-text { flex: 1; margin-right: 10px; }
.fix-button { background: linear-gradient(45deg, #007acc, #005999); color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 0.8em; font-weight: bold; transition: all 0.3s ease; white-space: nowrap; }
.fix-button:hover { background: linear-gradient(45deg, #005999, #003d73); transform: translateY(-1px); box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
.fix-button:active { transform: translateY(0); }
.fix-button:disabled { background: #ccc; cursor: not-allowed; transform: none; }
.fix-status { margin-left: 5px; font-size: 0.8em; }
.fix-success { color: #28a745; }
.fix-error { color: #dc3545; }
.fix-loading { color: #ffc107; }
.metrics-section { margin: 30px 0; }
.metrics-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
.metrics-table th, .metrics-table td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
.metrics-table th { background-color: #007acc; color: white; }
.quality-indicator { padding: 5px 10px; border-radius: 4px; color: white; font-weight: bold; text-align: center; }
.quality-green { background-color: #28a745; }
.quality-yellow { background-color: #ffc107; color: black; }
.quality-red { background-color: #dc3545; }
.final-score { font-size: 2.5em; font-weight: bold; color: #007acc; text-align: center; margin: 20px 0; }
</style>
<script>
function fixWithAI(category, recommendation, button) {
    const originalText = button.textContent;
    button.disabled = true;
    button.textContent = 'Fixing...';
    button.style.background = '#ffc107';
    
    // Create status indicator
    const statusSpan = document.createElement('span');
    statusSpan.className = 'fix-status fix-loading';
    statusSpan.textContent = ' ⏳';
    button.parentNode.appendChild(statusSpan);
    
    // Simulate AI processing (replace with actual API call)
    setTimeout(() => {
        // For demo purposes, randomly succeed or fail
        const success = Math.random() > 0.3;
        
        if (success) {
            button.textContent = 'Fixed ✓';
            button.style.background = '#28a745';
            statusSpan.className = 'fix-status fix-success';
            statusSpan.textContent = ' Applied';
            
            // Show success message
            showNotification('Fix applied successfully for: ' + category, 'success');
        } else {
            button.textContent = 'Retry';
            button.style.background = '#dc3545';
            button.disabled = false;
            statusSpan.className = 'fix-status fix-error';
            statusSpan.textContent = ' Failed';
            
            // Show error message
            showNotification('Failed to apply fix. Please try again.', 'error');
        }
    }, 2000 + Math.random() * 3000); // 2-5 second delay
}

function showNotification(message, type) {
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed; top: 20px; right: 20px; z-index: 1000;
        padding: 12px 20px; border-radius: 6px; color: white;
        font-weight: bold; box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        transform: translateX(100%); transition: transform 0.3s ease;
        background: ${type === 'success' ? '#28a745' : '#dc3545'};
    `;
    notification.textContent = message;
    document.body.appendChild(notification);
    
    // Slide in
    setTimeout(() => notification.style.transform = 'translateX(0)', 100);
    
    // Slide out and remove
    setTimeout(() => {
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => document.body.removeChild(notification), 300);
    }, 4000);
}
</script>
</head>
<body>
<div class="container">
<a href="../technical-report.html" class="back-link">← Back to Technical Report</a>
<div class="header">
<h1>Immutability.java</h1>
<p>Detailed Code Analysis Results</p>
</div>
<div class="summary-card">
<div class="final-score">69.5</div>
<div style="text-align: center;">
<span class="quality-indicator quality-red">Low Quality</span></div></div>
<div class="score-grid">
<div class="score-item">
<div class="score-value">70.0</div>
<div class="score-label">Code Quality</div>
</div>
<div class="score-item">
<div class="score-value">70.0</div>
<div class="score-label">SOLID Principles</div>
</div>
<div class="score-item">
<div class="score-value">40.0</div>
<div class="score-label">Design Patterns</div>
</div>
<div class="score-item">
<div class="score-value">80.0</div>
<div class="score-label">Security</div>
</div>
<div class="score-item">
<div class="score-value">80.0</div>
<div class="score-label">Bug Detection</div>
</div>
</div>
<div class="analysis-section">
<h2>Code Quality Analysis (70.0/100)</h2>
<div class="reasoning-text">The code is simple and easy to understand, but it does not follow the principle of immutability as the comment suggests. The setters allow for mutation of the object after its creation, which is not a good practice for an immutable object.</div>
<div class="recommendations">
<h3>Recommendations</h3>
<ul>
<li><span class="recommendation-text">Remove the setter methods to ensure immutability.</span><button class="fix-button" id="fix-code-quality-analysis-0" onclick="fixWithAI('Code Quality Analysis', 'Remove the setter methods to ensure immutability.', this)" data-category="Code Quality Analysis" data-recommendation="Remove the setter methods to ensure immutability.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider making the fields final to further enforce immutability.</span><button class="fix-button" id="fix-code-quality-analysis-1" onclick="fixWithAI('Code Quality Analysis', 'Consider making the fields final to further enforce immutability.', this)" data-category="Code Quality Analysis" data-recommendation="Consider making the fields final to further enforce immutability.">Fix with AI</button></li>
<li><span class="recommendation-text">Add more comments to explain the purpose of the class and its methods.</span><button class="fix-button" id="fix-code-quality-analysis-2" onclick="fixWithAI('Code Quality Analysis', 'Add more comments to explain the purpose of the class and its methods.', this)" data-category="Code Quality Analysis" data-recommendation="Add more comments to explain the purpose of the class and its methods.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider using a more descriptive class name.</span><button class="fix-button" id="fix-code-quality-analysis-3" onclick="fixWithAI('Code Quality Analysis', 'Consider using a more descriptive class name.', this)" data-category="Code Quality Analysis" data-recommendation="Consider using a more descriptive class name.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider adding error checking in the constructor to validate input parameters.</span><button class="fix-button" id="fix-code-quality-analysis-4" onclick="fixWithAI('Code Quality Analysis', 'Consider adding error checking in the constructor to validate input parameters.', this)" data-category="Code Quality Analysis" data-recommendation="Consider adding error checking in the constructor to validate input parameters.">Fix with AI</button></li>
</ul></div>
</div>
<div class="analysis-section">
<h2>SOLID Principles Analysis (70.0/100)</h2>
<div class="reasoning-text">The class adheres to the Single Responsibility Principle to a certain extent as it is primarily concerned with maintaining and manipulating the state of an &#39;Immutability&#39; object. However, it violates the principle of immutability by allowing the state of the object to be changed after its creation.</div>
<div class="recommendations">
<h3>Recommendations</h3>
<ul>
<li><span class="recommendation-text">Remove the setter methods to ensure immutability.</span><button class="fix-button" id="fix-solid-principles-analysis-0" onclick="fixWithAI('SOLID Principles Analysis', 'Remove the setter methods to ensure immutability.', this)" data-category="SOLID Principles Analysis" data-recommendation="Remove the setter methods to ensure immutability.">Fix with AI</button></li>
<li><span class="recommendation-text">If mutation is necessary, consider creating a new object with the desired state instead of modifying the existing one.</span><button class="fix-button" id="fix-solid-principles-analysis-1" onclick="fixWithAI('SOLID Principles Analysis', 'If mutation is necessary, consider creating a new object with the desired state instead of modifying the existing one.', this)" data-category="SOLID Principles Analysis" data-recommendation="If mutation is necessary, consider creating a new object with the desired state instead of modifying the existing one.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider renaming the class to better reflect its responsibility.</span><button class="fix-button" id="fix-solid-principles-analysis-2" onclick="fixWithAI('SOLID Principles Analysis', 'Consider renaming the class to better reflect its responsibility.', this)" data-category="SOLID Principles Analysis" data-recommendation="Consider renaming the class to better reflect its responsibility.">Fix with AI</button></li>
<li><span class="recommendation-text">Move the main method to a separate &#39;driver&#39; class to separate concerns.</span><button class="fix-button" id="fix-solid-principles-analysis-3" onclick="fixWithAI('SOLID Principles Analysis', 'Move the main method to a separate &#39;driver&#39; class to separate concerns.', this)" data-category="SOLID Principles Analysis" data-recommendation="Move the main method to a separate &#39;driver&#39; class to separate concerns.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider using final keyword for the class variables to ensure immutability.</span><button class="fix-button" id="fix-solid-principles-analysis-4" onclick="fixWithAI('SOLID Principles Analysis', 'Consider using final keyword for the class variables to ensure immutability.', this)" data-category="SOLID Principles Analysis" data-recommendation="Consider using final keyword for the class variables to ensure immutability.">Fix with AI</button></li>
</ul></div>
</div>
<div class="analysis-section">
<h2>Design Patterns Analysis (40.0/100)</h2>
<div class="reasoning-text">The class is named &#39;Immutability&#39; but it does not follow the principles of immutability as it has setter methods that allow mutation of the object after its creation. This is a poor practice and goes against the concept of immutability.</div>
<div class="recommendations">
<h3>Recommendations</h3>
<ul>
<li><span class="recommendation-text">Remove the setter methods to ensure immutability.</span><button class="fix-button" id="fix-design-patterns-analysis-0" onclick="fixWithAI('Design Patterns Analysis', 'Remove the setter methods to ensure immutability.', this)" data-category="Design Patterns Analysis" data-recommendation="Remove the setter methods to ensure immutability.">Fix with AI</button></li>
<li><span class="recommendation-text">Ensure that all fields are final to guarantee that they cannot be changed after object creation.</span><button class="fix-button" id="fix-design-patterns-analysis-1" onclick="fixWithAI('Design Patterns Analysis', 'Ensure that all fields are final to guarantee that they cannot be changed after object creation.', this)" data-category="Design Patterns Analysis" data-recommendation="Ensure that all fields are final to guarantee that they cannot be changed after object creation.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider using the Builder pattern if the object needs to be mutable during construction but immutable afterwards.</span><button class="fix-button" id="fix-design-patterns-analysis-2" onclick="fixWithAI('Design Patterns Analysis', 'Consider using the Builder pattern if the object needs to be mutable during construction but immutable afterwards.', this)" data-category="Design Patterns Analysis" data-recommendation="Consider using the Builder pattern if the object needs to be mutable during construction but immutable afterwards.">Fix with AI</button></li>
<li><span class="recommendation-text">If the class needs to be mutable, rename it to reflect its actual behavior.</span><button class="fix-button" id="fix-design-patterns-analysis-3" onclick="fixWithAI('Design Patterns Analysis', 'If the class needs to be mutable, rename it to reflect its actual behavior.', this)" data-category="Design Patterns Analysis" data-recommendation="If the class needs to be mutable, rename it to reflect its actual behavior.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider using defensive copying in the getter methods if the fields are complex mutable objects to prevent the client from changing them.</span><button class="fix-button" id="fix-design-patterns-analysis-4" onclick="fixWithAI('Design Patterns Analysis', 'Consider using defensive copying in the getter methods if the fields are complex mutable objects to prevent the client from changing them.', this)" data-category="Design Patterns Analysis" data-recommendation="Consider using defensive copying in the getter methods if the fields are complex mutable objects to prevent the client from changing them.">Fix with AI</button></li>
</ul></div>
</div>
<div class="analysis-section">
<h2>Security Analysis (80.0/100)</h2>
<div class="reasoning-text">The code does not have any security vulnerabilities like injection flaws or insecure data handling, but it violates the principle of immutability by allowing the state of the object to be changed after its creation. This can lead to unexpected behavior and bugs.</div>
<div class="recommendations">
<h3>Recommendations</h3>
<ul>
<li><span class="recommendation-text">Remove the setter methods to make the class immutable.</span><button class="fix-button" id="fix-security-analysis-0" onclick="fixWithAI('Security Analysis', 'Remove the setter methods to make the class immutable.', this)" data-category="Security Analysis" data-recommendation="Remove the setter methods to make the class immutable.">Fix with AI</button></li>
<li><span class="recommendation-text">If mutation is necessary, consider creating a new object with the desired state instead of modifying the existing one.</span><button class="fix-button" id="fix-security-analysis-1" onclick="fixWithAI('Security Analysis', 'If mutation is necessary, consider creating a new object with the desired state instead of modifying the existing one.', this)" data-category="Security Analysis" data-recommendation="If mutation is necessary, consider creating a new object with the desired state instead of modifying the existing one.">Fix with AI</button></li>
<li><span class="recommendation-text">Ensure that all fields of the class are final to enforce immutability.</span><button class="fix-button" id="fix-security-analysis-2" onclick="fixWithAI('Security Analysis', 'Ensure that all fields of the class are final to enforce immutability.', this)" data-category="Security Analysis" data-recommendation="Ensure that all fields of the class are final to enforce immutability.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider using the Builder pattern if the class has many parameters.</span><button class="fix-button" id="fix-security-analysis-3" onclick="fixWithAI('Security Analysis', 'Consider using the Builder pattern if the class has many parameters.', this)" data-category="Security Analysis" data-recommendation="Consider using the Builder pattern if the class has many parameters.">Fix with AI</button></li>
<li><span class="recommendation-text">Always consider thread-safety when designing your classes. Immutable objects are inherently thread-safe.</span><button class="fix-button" id="fix-security-analysis-4" onclick="fixWithAI('Security Analysis', 'Always consider thread-safety when designing your classes. Immutable objects are inherently thread-safe.', this)" data-category="Security Analysis" data-recommendation="Always consider thread-safety when designing your classes. Immutable objects are inherently thread-safe.">Fix with AI</button></li>
</ul></div>
</div>
<div class="analysis-section">
<h2>Bug Detection Analysis (80.0/100)</h2>
<div class="reasoning-text">The code is functional and does not contain any bugs, null pointer exceptions, array bounds errors, infinite loops, incorrect logic conditions, resource leaks, or race conditions. However, it violates the principle of immutability by allowing the state of the object to be changed after it has been created.</div>
<div class="recommendations">
<h3>Recommendations</h3>
<ul>
<li><span class="recommendation-text">Remove the setter methods to ensure immutability.</span><button class="fix-button" id="fix-bug-detection-analysis-0" onclick="fixWithAI('Bug Detection Analysis', 'Remove the setter methods to ensure immutability.', this)" data-category="Bug Detection Analysis" data-recommendation="Remove the setter methods to ensure immutability.">Fix with AI</button></li>
<li><span class="recommendation-text">If mutation is necessary, consider creating a new object with the desired state instead of modifying the existing one.</span><button class="fix-button" id="fix-bug-detection-analysis-1" onclick="fixWithAI('Bug Detection Analysis', 'If mutation is necessary, consider creating a new object with the desired state instead of modifying the existing one.', this)" data-category="Bug Detection Analysis" data-recommendation="If mutation is necessary, consider creating a new object with the desired state instead of modifying the existing one.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider making the class final to prevent subclassing, which could potentially compromise immutability.</span><button class="fix-button" id="fix-bug-detection-analysis-2" onclick="fixWithAI('Bug Detection Analysis', 'Consider making the class final to prevent subclassing, which could potentially compromise immutability.', this)" data-category="Bug Detection Analysis" data-recommendation="Consider making the class final to prevent subclassing, which could potentially compromise immutability.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider making the fields final to ensure they are only assigned once.</span><button class="fix-button" id="fix-bug-detection-analysis-3" onclick="fixWithAI('Bug Detection Analysis', 'Consider making the fields final to ensure they are only assigned once.', this)" data-category="Bug Detection Analysis" data-recommendation="Consider making the fields final to ensure they are only assigned once.">Fix with AI</button></li>
<li><span class="recommendation-text">Consider using the Builder pattern if the class has many parameters and immutability is desired.</span><button class="fix-button" id="fix-bug-detection-analysis-4" onclick="fixWithAI('Bug Detection Analysis', 'Consider using the Builder pattern if the class has many parameters and immutability is desired.', this)" data-category="Bug Detection Analysis" data-recommendation="Consider using the Builder pattern if the class has many parameters and immutability is desired.">Fix with AI</button></li>
</ul></div>
</div>
<div class="metrics-section">
<h2>File Metrics</h2>
<table class="metrics-table">
<tr><th>Metric</th><th>Value</th></tr>
<tr><td>Comment ratio</td><td>13.79</td></tr>
<tr><td>Lines of code</td><td>29</td></tr>
<tr><td>Number of methods</td><td>6</td></tr>
<tr><td>Number of classes</td><td>1</td></tr>
<tr><td>Cyclomatic complexity</td><td>1</td></tr>
<tr><td>Code complexity</td><td>LOW</td></tr>
</table></div>
<div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666;">
<p>Analysis generated on 2025-08-03 13:48:04 by Code Guard</p>
<a href="../technical-report.html" class="back-link">← Back to Technical Report</a>
</div>
</div>
</body>
</html>
